modules:
  - type: dnf
    repos:
      copr:
        - yalter/niri
        - ulysg/xwayland-satellite
        - avengemedia/dms
    install:
      packages:
        - niri
        - xdg-desktop-portal-gtk
        - xdg-desktop-portal-gnome
        - gnome-keyring
        - xwayland-satellite
        - xsettingsd
        - dms
      exclude:
        - alacritty
  - type: systemd
    user:
      enabled:
        - xwayland-satellite.service
  - type: files
    files:
      - source: system/niri
        destination: /
