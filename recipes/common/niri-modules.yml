modules:
  - type: dnf
    repos:
      copr:
        - yalter/niri
        - ulysg/xwayland-satellite
        - avengemedia/dms 
    install:
      packages:
        - niri
        - xdg-desktop-portal-gtk
        - xdg-desktop-portal-gnome
        - gnome-keyring
        - xwayland-satellite
        - xsettingsd
        - dms 

      exclude:
        - alacritty
  - type: systemd
    user:
      enabled:
        - xwayland-satellite.service
  - type: files
    files:
      - source: system/niri
        destination: /
  - type: chezmoi
    repository: "https://codeberg.org/jvssdev/dotfiles"
    branch: "main"
    all-users: false 
    run-every: '1d' 
    wait-after-boot: '5m' 
    disable-init: false 
    disable-update: false 
    file-conflict-policy: "skip"
